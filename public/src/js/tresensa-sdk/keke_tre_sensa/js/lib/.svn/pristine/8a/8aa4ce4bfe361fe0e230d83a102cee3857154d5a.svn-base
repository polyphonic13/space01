/* TreSensa Game Loader, TGL-SDK, Version 1.0.21 */
/* Copyright (c) 2013 TreSensa, Inc. All Rights Reserved. */
var TGL=TGL||{},_qevents=_qevents||[];TGL.Debug=TGL.Debug||{},TGL.Debug.LOG_NONE=0,TGL.Debug.LOG_ERROR=1,TGL.Debug.LOG_WARNING=2,TGL.Debug.LOG_INFO=3,TGL.Debug.LOG_VERBOSE=4,TGL.Debug.LogLevel=TGL.Debug.LOG_INFO,TGL.Debug.Log=function(a){if(window.console&&a<=TGL.Debug.LogLevel){var b="TGL: ",c="log";a===TGL.Debug.LOG_ERROR?(b+="**ERROR** ",c="error"):a===TGL.Debug.LOG_WARNING&&(b+="**WARNING** ",c="warn"),window.console[c](b+Array.prototype.slice.call(arguments,1))}},TGL.RanGame=!1,TGL.MinifiedSuffix=".min",TGL.SDKBaseURL="js/lib/",TGL.Init=function(){if("number"==typeof GameConfig.LOG_LEVEL&&(TGL.Debug.LogLevel=GameConfig.LOG_LEVEL),TGL.Debug.Log(TGL.Debug.LOG_INFO,"GameLoader started"),GameConfig.DEBUG="undefined"!=typeof GameConfig.DEBUG?GameConfig.DEBUG:!1,GameConfig.DEBUG&&TGL.Debug.Log(TGL.Debug.LOG_WARNING,"Debug mode enabled"),GameConfig.NATIVE_APP=!("undefined"==typeof CordovaConfig),GameConfig.TIZEN_APP=!("undefined"==typeof TizenConfig),GameConfig.NATIVE_APP&&TGL.Debug.Log(TGL.Debug.LOG_INFO,"Native app detected"),GameConfig.TIZEN_APP&&TGL.Debug.Log(TGL.Debug.LOG_INFO,"Tizen app detected"),!GameConfig.hasOwnProperty("TGE"))return TGL.Debug.Log(TGL.Debug.LOG_ERROR,"GameConfig.TGE and its properties are required. Stopping game load!"),void 0;if(GameConfig.TGE.ENABLED="undefined"!=typeof GameConfig.TGE.ENABLED?GameConfig.TGE.ENABLED:!0,!GameConfig.hasOwnProperty("TGS"))return TGL.Debug.Log(TGL.Debug.LOG_ERROR,"GameConfig.TGS and its properties are required. Stopping game load!"),void 0;if(GameConfig.TGS.ENABLED="undefined"!=typeof GameConfig.TGS.ENABLED?GameConfig.TGS.ENABLED:!0,"undefined"==typeof GameConfig.GAME_ID||"undefined"==typeof GameConfig.TITLE||"undefined"==typeof GameConfig.HOST||"undefined"==typeof GameConfig.PATH||"undefined"==typeof GameConfig.VERSION||"undefined"==typeof GameConfig.TGL.VERSION||"undefined"==typeof GameConfig.TGS.VERSION||GameConfig.TGE.ENABLED&&("undefined"==typeof GameConfig.TGE.VERSION||"undefined"==typeof GameConfig.CONSTRUCTOR))return TGL.Debug.Log(TGL.Debug.LOG_ERROR,"GameConfig.GAME_ID, TITLE, HOST, PATH, VERSION, TGL.VERSION, TGE.VERSION, TGS.VERSION, and CONSTRUCTOR are required properties and must be defined. Stopping game load!"),void 0;if(GameConfig.hasOwnProperty("GoogleAnalytics")?GameConfig.GoogleAnalytics.ENABLED="undefined"!=typeof GameConfig.GoogleAnalytics.ENABLED?GameConfig.GoogleAnalytics.ENABLED:!0:GameConfig.GoogleAnalytics={ENABLED:!0},GameConfig.GoogleAnalytics.LABEL="undefined"!=typeof GameConfig.GoogleAnalytics.LABEL?GameConfig.GoogleAnalytics.LABEL:GameConfig.GAME_ID,"undefined"!=typeof GameConfig.GoogleAnalytics.PROD_ID&&"UA-29301358-4"===GameConfig.GoogleAnalytics.PROD_ID&&(GameConfig.GoogleAnalytics.PROD_ID="",TGL.Debug.Log(TGL.Debug.LOG_WARNING,"GameConfig.GoogleAnalytics.PROD_ID was set to a reserved value. Resetting its value to null.")),"undefined"!=typeof GameConfig.GoogleAnalytics.QA_ID&&"UA-29301358-8"===GameConfig.GoogleAnalytics.QA_ID&&(GameConfig.GoogleAnalytics.QA_ID="",TGL.Debug.Log(TGL.Debug.LOG_WARNING,"GameConfig.GoogleAnalytics.QA_ID was set to a reserved value. Resetting its value to null.")),GameConfig.GoogleAnalytics.STUDIO_ID=GameConfig.PROD_ENV?GameConfig.GoogleAnalytics.PROD_ID:GameConfig.GoogleAnalytics.QA_ID,GameConfig.NATIVE_APP){if(GameConfig.GoogleAnalytics.ENABLED&&("undefined"===CordovaConfig.GoogleAnalytics.NATIVE_ID||""==CordovaConfig.GoogleAnalytics.NATIVE_ID))return TGL.Debug.Log(TGL.Debug.LOG_ERROR,"CordovaConfig.GoogleAnalytics.NATIVE_ID is required for native app builds. Stopping game load!"),void 0;GameConfig.GoogleAnalytics.NATIVE_ID=CordovaConfig.GoogleAnalytics.NATIVE_ID}if(!(!GameConfig.DEBUG&&GameConfig.PROD_ENV||"undefined"!=typeof GameConfig.SOURCE&&0!=GameConfig.SOURCE.length))return TGL.Debug.Log(TGL.Debug.LOG_ERROR,"GameConfig.SOURCE is required when not running in production. Stopping game load!"),void 0;GameConfig.PROD_ENV="undefined"!=typeof GameConfig.PROD_ENV?GameConfig.PROD_ENV:!1,GameConfig.ORIENTATION="undefined"!=typeof GameConfig.ORIENTATION?GameConfig.ORIENTATION:"portrait",GameConfig.CANVAS_ID="undefined"!=typeof GameConfig.CANVAS_ID?GameConfig.CANVAS_ID:"game_canvas",GameConfig.REORIENT_ID="undefined"!=typeof GameConfig.REORIENT_ID?GameConfig.REORIENT_ID:"wrong_orientation",GameConfig.PRELOADER_DIV="undefined"!=typeof GameConfig.PRELOADER_DIV?GameConfig.PRELOADER_DIV:"preloader",GameConfig.hasOwnProperty("CDN")?GameConfig.CDN.ENABLED="undefined"!=typeof GameConfig.CDN.ENABLED?GameConfig.CDN.ENABLED:!1:GameConfig.CDN={ENABLED:!1},GameConfig.DST_ID=TGL.getDistributionPartner(),GameConfig.hasOwnProperty("ADS")?("undefined"!=typeof GameConfig.ADS.GAMEOVER_PLACEMENT_ID&&(GameConfig.ADS.DISPLAY_PLACEMENT_ID=GameConfig.ADS.GAMEOVER_PLACEMENT_ID),GameConfig.ADS.DISPLAY_PLACEMENT_ID="undefined"!=typeof GameConfig.ADS.DISPLAY_PLACEMENT_ID&&""!=GameConfig.ADS.DISPLAY_PLACEMENT_ID?GameConfig.ADS.DISPLAY_PLACEMENT_ID:"2805909",GameConfig.ADS.INTERSTITIAL_PLACEMENT_ID="undefined"!=typeof GameConfig.ADS.INTERSTITIAL_PLACEMENT_ID&&""!=GameConfig.ADS.INTERSTITIAL_PLACEMENT_ID?GameConfig.ADS.INTERSTITIAL_PLACEMENT_ID:"2805908",GameConfig.ADS.INTERSTITIAL_INTERVAL="undefined"!=typeof GameConfig.ADS.INTERSTITIAL_INTERVAL?GameConfig.ADS.INTERSTITIAL_INTERVAL:150):(GameConfig.ADS={DISPLAY_PLACEMENT_ID:"2805909",INTERSTITIAL_PLACEMENT_ID:"2805908",INTERSTITIAL_INTERVAL:150},TGL.Debug.Log(TGL.Debug.LOG_WARNING,"One or more Advertising placement IDs are not defined. Default placements that do not return paid ads will be used.")),GameConfig.TGE.FONT_LOADER="undefined"!=typeof GameConfig.TGE.FONT_LOADER?GameConfig.TGE.FONT_LOADER:!1,GameConfig.hasOwnProperty("Playnomics")?GameConfig.Playnomics.ENABLED="undefined"!=typeof GameConfig.Playnomics.ENABLED?GameConfig.Playnomics.ENABLED:!1:GameConfig.Playnomics={ENABLED:!1},GameConfig.hasOwnProperty("Quantcast")?GameConfig.Quantcast.ENABLED="undefined"!=typeof GameConfig.Quantcast.ENABLED?GameConfig.Quantcast.ENABLED:!0:GameConfig.Quantcast={ENABLED:!0},GameConfig.hasOwnProperty("Flurry")?GameConfig.Flurry.ENABLED="undefined"!=typeof GameConfig.Flurry.ENABLED?GameConfig.Flurry.ENABLED:!0:GameConfig.Flurry={ENABLED:!0},GameConfig.hasOwnProperty("Bugsense")?(GameConfig.Bugsense.ENABLED="undefined"!=typeof GameConfig.Bugsense.ENABLED?GameConfig.Bugsense.ENABLED:!1,("undefined"==typeof GameConfig.Bugsense.API_KEY||""===GameConfig.Bugsense.API_KEY)&&(GameConfig.Bugsense.ENABLED=!1,TGL.Debug.Log(TGL.Debug.LOG_WARNING,"GameConfig.Bugsense.API_KEY is required when GameConfig.Bugsense.ENABLED is true. Setting GameConfig.Bugsense.ENABLED to false."))):GameConfig.Bugsense={ENABLED:!1},GameConfig.TGS.HOST=GameConfig.PROD_ENV?"undefined"!=typeof GameConfig.TGS.HOST?GameConfig.TGS.HOST:"tgs.tresensa.com":"stg-tgs.tresensa.com",GameConfig.hasOwnProperty("WIDTH")&&GameConfig.hasOwnProperty("HEIGHT")||("landscape"===GameConfig.ORIENTATION?(GameConfig.WIDTH=960,GameConfig.HEIGHT=536):(GameConfig.WIDTH=640,GameConfig.HEIGHT=832));var a=[],b="//static.tresensa.com",c="assets";TGL.MinifiedSuffix=GameConfig.DEBUG?"":".min",TGL.SDKBaseURL=GameConfig.DEBUG?"js/lib-debug/":GameConfig.CDN.ENABLED?b+"/lib/":"js/lib/",GameConfig.NATIVE_APP||GameConfig.TIZEN_APP?(GameConfig.IMAGE_ROOT=GameConfig.CDN_ROOT=c+"/",GameConfig.AUDIO_ROOT="http:"+b+GameConfig.PATH+c+"-"+GameConfig.VERSION+"/"):GameConfig.AUDIO_ROOT=GameConfig.IMAGE_ROOT=GameConfig.CDN_ROOT=GameConfig.PROD_ENV?c+"-"+GameConfig.VERSION+"/":c+"/",TGL.Debug.Log(TGL.Debug.LOG_VERBOSE,'GameConfig.PROD_ENV = "'+GameConfig.PROD_ENV+'"'),TGL.Debug.Log(TGL.Debug.LOG_VERBOSE,'GameConfig.CDN.ENABLED = "'+GameConfig.CDN.ENABLED+'"'),TGL.Debug.Log(TGL.Debug.LOG_VERBOSE,'GameConfig.GoogleAnalytics.ENABLED = "'+GameConfig.GoogleAnalytics.ENABLED+'"'),TGL.Debug.Log(TGL.Debug.LOG_VERBOSE,'sdkBaseURL = "'+TGL.SDKBaseURL+'"'),TGL.Debug.Log(TGL.Debug.LOG_VERBOSE,'GameConfig.IMAGE_ROOT = "'+GameConfig.IMAGE_ROOT+'"'),TGL.Debug.Log(TGL.Debug.LOG_VERBOSE,'GameConfig.AUDIO_ROOT = "'+GameConfig.AUDIO_ROOT+'"'),TGL.Debug.Log(TGL.Debug.LOG_VERBOSE,'minifiedSetting = "'+TGL.MinifiedSuffix+'"'),TGL.Debug.Log(TGL.Debug.LOG_VERBOSE,'TGS Server = "'+GameConfig.TGS.HOST+'"'),GameConfig.NATIVE_APP?TGL.Debug.Log(TGL.Debug.LOG_VERBOSE,'Google Analytics ID = "'+GameConfig.GoogleAnalytics.NATIVE_ID+'"'):GameConfig.PROD_ENV?TGL.Debug.Log(TGL.Debug.LOG_VERBOSE,'Google Analytics ID = "'+GameConfig.GoogleAnalytics.PROD_ID+'"'):TGL.Debug.Log(TGL.Debug.LOG_VERBOSE,'Google Analytics ID = "'+GameConfig.GoogleAnalytics.QA_ID+'"'),TGL.Debug.Log(TGL.Debug.LOG_VERBOSE,"Game screen orientation = "+GameConfig.ORIENTATION),TGL.Debug.Log(TGL.Debug.LOG_VERBOSE,'Game Canvas dimensions: Width = "'+GameConfig.WIDTH+'", Height = "'+GameConfig.HEIGHT+'"'),GameConfig.NATIVE_APP&&(TGL.Debug.Log(TGL.Debug.LOG_INFO,"Loading the Cordova libs defined in CordovaConfig.js"),CordovaConfig.LIBS.forEach(function(b){a.push(b),TGL.Debug.Log(TGL.Debug.LOG_VERBOSE,"Cordova lib: "+b)})),GameConfig.TIZEN_APP&&(TGL.Debug.Log(TGL.Debug.LOG_INFO,"Loading the Tizen libs defined in TizenConfig.js"),TizenConfig.LIBS.forEach(function(b){a.push(b),TGL.Debug.Log(TGL.Debug.LOG_VERBOSE,"Tizen lib: "+b)})),!GameConfig.NATIVE_APP&&GameConfig.GoogleAnalytics.ENABLED&&(!function(a,b,c,d,e,f,g){a.GoogleAnalyticsObject=e,a[e]=a[e]||function(){(a[e].q=a[e].q||[]).push(arguments)},a[e].l=1*new Date,f=b.createElement(c),g=b.getElementsByTagName(c)[0],f.async=1,f.src=d,g.parentNode.insertBefore(f,g)}(window,document,"script","//www.google-analytics.com/analytics.js","_gaTreSensa"),TGL.Debug.Log(TGL.Debug.LOG_INFO,"Google Analytics loaded")),GameConfig.TGE.FONT_LOADER&&(TGL.Debug.Log(TGL.Debug.LOG_VERBOSE,"Font loader enabled"),a.push(TGL.SDKBaseURL+"font"+TGL.MinifiedSuffix+".js")),GameConfig.TGE.ENABLED&&(TGL.Debug.Log(TGL.Debug.LOG_VERBOSE,"TGE-SDK enabled, using version "+GameConfig.TGE.VERSION),a.push(TGL.SDKBaseURL+"PxLoader"+TGL.MinifiedSuffix+".js"),a.push(TGL.SDKBaseURL+"PxLoaderImage"+TGL.MinifiedSuffix+".js"),a.push(TGL.SDKBaseURL+"tge/tge-"+GameConfig.TGE.VERSION+TGL.MinifiedSuffix+".js")),GameConfig.NATIVE_APP||GameConfig.TIZEN_APP||a.push(TGL.SDKBaseURL+"viewporter"+TGL.MinifiedSuffix+".js"),GameConfig.TGS.ENABLED&&(TGL.Debug.Log(TGL.Debug.LOG_VERBOSE,"TGS-SDK enabled, using version "+GameConfig.TGS.VERSION),a.push(TGL.SDKBaseURL+"iscroll-lite"+TGL.MinifiedSuffix+".js"),a.push(TGL.SDKBaseURL+"tgs/tgs-"+GameConfig.TGS.VERSION+TGL.MinifiedSuffix+".js"),parseFloat(GameConfig.TGS.VERSION)>=.3&&a.push(TGL.SDKBaseURL+"tgs/tgs-adapters-"+GameConfig.TGS.VERSION+TGL.MinifiedSuffix+".js")),!GameConfig.NATIVE_APP&&GameConfig.Playnomics.ENABLED&&(TGL.Debug.Log(TGL.Debug.LOG_VERBOSE,"Playnomics enabled"),a.push(TGL.SDKBaseURL+"playnomics"+TGL.MinifiedSuffix+".js")),GameConfig.DEBUG?(TGL.Debug.Log(TGL.Debug.LOG_INFO,"Loading individual un-minified game class files"),GameConfig.SOURCE.forEach(function(b){a.push(b)})):GameConfig.NATIVE_APP||GameConfig.TIZEN_APP?(TGL.Debug.Log(TGL.Debug.LOG_INFO,"Loading individual un-minified game class files"),GameConfig.SOURCE.forEach(function(b){a.push(b)})):GameConfig.PROD_ENV?(TGL.Debug.Log(TGL.Debug.LOG_INFO,"Loading minified game code from js/game/game-"+GameConfig.VERSION+TGL.MinifiedSuffix+".js"),a.push("js/game/game-"+GameConfig.VERSION+TGL.MinifiedSuffix+".js")):(TGL.Debug.Log(TGL.Debug.LOG_INFO,"Loading individual un-minified game class files"),GameConfig.SOURCE.forEach(function(b){a.push(b)})),GameConfig.NATIVE_APP||GameConfig.TIZEN_APP||!GameConfig.Quantcast.ENABLED||(TGL.Debug.Log(TGL.Debug.LOG_VERBOSE,"Quantcast enabled"),function(){var a=document.createElement("script");a.src=("https:"==document.location.protocol?"https://secure":"http://edge")+".quantserve.com/quant.js",a.async=!0,a.type="text/javascript";var b=document.getElementsByTagName("script")[0];b.parentNode.insertBefore(a,b)}(),_qevents.push({qacct:"p-pFeCqGCfT0VUS",labels:GameConfig.GAME_ID})),GameConfig.NATIVE_APP||GameConfig.TIZEN_APP||!GameConfig.Flurry.ENABLED||(TGL.Debug.Log(TGL.Debug.LOG_VERBOSE,"Flurry enabled"),a.push("https://cdn.flurry.com/js/flurry.js")),GameConfig.NATIVE_APP||GameConfig.TIZEN_APP||!GameConfig.Bugsense.ENABLED||(TGL.Debug.Log(TGL.Debug.LOG_VERBOSE,"Bugsense enabled. Using API_KEY = "+GameConfig.Bugsense.API_KEY),a.push(TGL.SDKBaseURL+"bugsense.1.1"+TGL.MinifiedSuffix+".js")),TGL.Debug.Log(TGL.Debug.LOG_INFO,"Calling head.js.apply to load all javascript libraries"),head.js.apply(this,a),head.ready(function(){TGL.Debug.Log(TGL.Debug.LOG_INFO,"All javascript libraries loaded"),TGL.setEventListeners()})},TGL.setEventListeners=function(){if(!GameConfig.NATIVE_APP&&GameConfig.GoogleAnalytics.ENABLED&&(_gaTreSensa("create",GameConfig.PROD_ENV?"UA-29301358-4":"UA-29301358-8","auto",{name:"TGLTracker"}),_gaTreSensa("TGLTracker.send","pageview",{dimension1:TGL.getDistributionPartner(),dimension2:GameConfig.VERSION,dimension3:GameConfig.GAME_ID})),!GameConfig.NATIVE_APP&&!GameConfig.TIZEN_APP&&GameConfig.Bugsense.ENABLED){new Bugsense({apiKey:GameConfig.Bugsense.API_KEY,appversion:GameConfig.VERSION})}!GameConfig.NATIVE_APP&&!GameConfig.TIZEN_APP&&GameConfig.Flurry.ENABLED&&GameConfig.PROD_ENV&&(FlurryAgent.startSession("P7N4T4R5TC63BQZ6ZNM4"),FlurryAgent.setAppVersion(GameConfig.GAME_ID)),GameConfig.TGS.ENABLED?(GameConfig.TGS.ENABLED&&(TGL.Debug.Log(TGL.Debug.LOG_VERBOSE,"TGSLoaded setting TGS.onReady = TGL.initializeGame"),TGS.onReady=TGL.initializeGame),TGL.Debug.Log(TGL.Debug.LOG_VERBOSE,"Calling TGS.Init - synchronously"),TGS.Init(GameConfig),GameConfig.NATIVE_APP?(TGL.Debug.Log(TGL.Debug.LOG_VERBOSE,"Setting up deviceready event listener to call TGL.TGSLoaded"),document.addEventListener("deviceready",TGL.TGSLoaded,!1)):window.addEventListener?(TGL.Debug.Log(TGL.Debug.LOG_VERBOSE,"Setting up windows.addEventListener to call TGL.TGSLoaded"),window.addEventListener("load",TGL.TGSLoaded,!1)):(TGL.Debug.Log(TGL.Debug.LOG_VERBOSE,"Setting up windows.attachEvent to call TGL.TGSLoaded"),window.attachEvent("onload",TGL.TGSLoaded))):GameConfig.NATIVE_APP?(TGL.Debug.Log(TGL.Debug.LOG_VERBOSE,"Setting up deviceready event listener to call TGL.initializeGame"),document.addEventListener("deviceready",TGL.initializeGame,!1)):"complete"===document.readyState?TGL.initializeGame():window.addEventListener?(TGL.Debug.Log(TGL.Debug.LOG_VERBOSE,"Setting up windows.addEventListener to call TGL.initializeGame"),window.addEventListener("load",TGL.initializeGame,!1)):(TGL.Debug.Log(TGL.Debug.LOG_VERBOSE,"Setting up windows.attachEvent to call TGL.initializeGame"),window.attachEvent("onload",TGL.initializeGame))},TGL.TGSLoaded=function(){TGL.Debug.Log(TGL.Debug.LOG_VERBOSE,"TGSLoaded called"),window.removeEventListener?window.removeEventListener("load",TGL.initializeGame,!1):window.detachEvent("onload",TGL.initializeGame),null!=TGL.getDistributionPartner()&&GameConfig.TGS.ENABLED?TGS.IsReady()&&(TGL.Debug.Log(TGL.Debug.LOG_VERBOSE,"TGSLoaded calling TGL.initializeGame. TGS is ready."),TGL.initializeGame()):(TGL.Debug.Log(TGL.Debug.LOG_VERBOSE,"TGSLoaded calling TGL.initializeGame. Dst is null or TGS not enabled."),TGL.initializeGame())},TGL.initializeGame=function(){GameConfig.TGE.ENABLED&&TGL.initializeTGE()},TGL.initializeTGE=function(){if(TGL.Debug.Log(TGL.Debug.LOG_VERBOSE,"initializeTGE called"),TGL.RanGame)return TGL.Debug.Log(TGL.Debug.LOG_VERBOSE,"Leaving Early/Duplicate call"),void 0;var a=document.getElementById(GameConfig.PRELOADER_DIV);GameConfig.ADSERVER_GAMEOVER_URL=TGL.getAdServerURL(GameConfig.ADS.GAMEOVER_PLACEMENT_ID,170),GameConfig.ADSERVER_REPLAY_URL=TGL.getAdServerURL(GameConfig.ADS.REPLAY_PLACEMENT_ID,0),a.style.display="none",GameConfig.MoreGames={},GameConfig.MoreGames.URL=TGL.getMoreGamesURL(),GameConfig.MoreGames.ENABLED=!!GameConfig.MoreGames.URL,TGL.Debug.Log(TGL.Debug.LOG_VERBOSE,"GameConfig.MoreGames.URL = "+GameConfig.MoreGames.URL),TGL.Debug.Log(TGL.Debug.LOG_VERBOSE,"GameConfig.MoreGames.ENABLED = "+GameConfig.MoreGames.ENABLED);var b=new window[GameConfig.CONSTRUCTOR];!GameConfig.NATIVE_APP&&GameConfig.GoogleAnalytics.ENABLED&&_gaTreSensa("TGLTracker.send","event","loader","game instantiated",GameConfig.GoogleAnalytics.LABEL,{dimension1:TGL.getDistributionPartner(),dimension2:GameConfig.VERSION,dimension3:GameConfig.GAME_ID}),b.IsPlatformAcceptable()?(TGL.RanGame=!0,TGL.Debug.Log(TGL.Debug.LOG_INFO,"Launching "+GameConfig.CONSTRUCTOR),b.Launch({gameDiv:GameConfig.CANVAS_ID,orientation:GameConfig.ORIENTATION,reorientDiv:GameConfig.REORIENT_ID,width:GameConfig.WIDTH,height:GameConfig.HEIGHT}),GameConfig.TGS.ENABLED&&TGS.GameLaunched()):(TGL.Debug.Log(TGL.Debug.LOG_ERROR,"Game can not be played on this platform"),!GameConfig.NATIVE_APP&&GameConfig.GoogleAnalytics.ENABLED&&_gaTreSensa("TGLTracker.send","event","loader","platform not acceptable",GameConfig.GoogleAnalytics.LABEL,{dimension1:TGL.getDistributionPartner(),dimension2:GameConfig.VERSION,dimension3:GameConfig.GAME_ID}))},TGL.getDistributionPartner=function(){if("undefined"!=typeof CordovaConfig)return CordovaConfig.hasOwnProperty("DST_ID")?CordovaConfig.DST_ID:null;if("undefined"!=typeof TizenConfig)return TizenConfig.hasOwnProperty("DST_ID")?TizenConfig.DST_ID:null;var a=TGL.getQueryString().dst;return"string"==typeof a?a.substr(0,5):"NA"},TGL.getQueryString=function(){for(var a,b={},c=location.search.substring(1),d=/([^&=]+)=([^&]*)/g;a=d.exec(c);)b[decodeURIComponent(a[1])]=decodeURIComponent(a[2]);return b},TGL.getAdServerURL=function(a,b){var c=GameConfig.NATIVE_APP||GameConfig.TIZEN_APP?"http:":"";return c+="//adserver.adtechus.com/adiframe/3.0/5421.1/"+a+"/0/"+b+"/ADTECH;target=_blank;key="+TGL.getDistributionPartner()+";kvenv="+encodeURIComponent(TGE.BrowserDetect.platform)},TGL.getMoreGamesURL=function(){var a=TGL.getQueryString().moregames,b=TGL.getDistributionPartner();return a=decodeURIComponent(a),TGL.ValidURL(a)||(a=null),a||b&&"A0000"!=b||(a="http://www.mobilewebarcade.com"),a},TGL.ValidURL=function(a){var b=new RegExp("^(https?:\\/\\/)?((([a-z\\d]([a-z\\d-]*[a-z\\d])*)\\.)+[a-z]{2,}|((\\d{1,3}\\.){3}\\d{1,3}))(\\:\\d+)?(\\/[-a-z\\d%_.~+]*)*(\\?[;&a-z\\d%_.~+=-]*)?(\\#[-a-z\\d_]*)?$","i");return b.test(a)},window.applicationCache.onchecking=function(){return TGL.Debug.Log(TGL.Debug.LOG_INFO,"AppCache checking for a new version."),!1},window.applicationCache.onnoupdate=function(){return TGL.Debug.Log(TGL.Debug.LOG_INFO,"AppCache reports version is up-to-date."),!1},window.applicationCache.ondownloading=function(){return TGL.Debug.Log(TGL.Debug.LOG_VERBOSE,"AppCache downloading new version."),window.progresscount=0,!1},window.applicationCache.onprogress=function(a){var b="";return b=a&&a.lengthComputable?" "+Math.round(100*a.loaded/a.total)+"%":" ("+ ++progresscount+")",TGL.Debug.Log(TGL.Debug.LOG_VERBOSE,"AppCache downloading new version"+b),!1},window.applicationCache.oncached=function(){return TGL.Debug.Log(TGL.Debug.LOG_VERBOSE,"AppCache application is now cached locally."),!1},window.applicationCache.onupdateready=function(){return TGL.Debug.Log(TGL.Debug.LOG_VERBOSE,"AppCache new version has been downloaded. Reload to run it."),!1},window.applicationCache.onerror=function(){return TGL.Debug.Log(TGL.Debug.LOG_ERROR,"AppCache couldn't load manifest or cache application. appcache status = "+window.applicationCache.status),!1},window.applicationCache.onobsolete=function(){return TGL.Debug.Log(TGL.Debug.LOG_ERROR,"This application is no longer cached. Reload to get the latest version from the network."),!1},TGL.Init();